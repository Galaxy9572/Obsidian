---
tags:
  - 计算机网络
  - HTTP
  - TCP/IP
  - DNS
  - URI/URL
  - HTTPS
  - 网络代理
  - HTTP基础
---
![[Pasted image 20231029092213.png]]

# 1、**TCP/IP**

TCP/IP协议栈有四层，最上层是应用层，最下层是链接层，TCP 和 IP 则在中间，TCP 属于传输层，IP 属于网际层。（参考：1、网络模型）

### 1.1、IP

IP 协议主要目的是解决寻址和路由问题，以及如何在两点间传送数据包。IP 协议使用`IP 地址`的概念来定位互联网上的每一台计算机。

IP 协议版本：

1. `IPv4`：地址是四个用.分隔的数字，总共有$2^{32}$​​个，大约 42 亿个可以分配的地址。
2. `IPv6`：使用 8 组:分隔的数字作为地址，有$2^{128}$个。

### 1.2、**TCP**

TCP协议意思是`传输控制协议`，它位于 IP 协议之上，基于 IP 协议提供可靠的、字节流形式的通信，是 HTTP 协议得以实现的基础。

“可靠”是指保证数据不丢失，“字节流”是指保证数据完整，所以在 TCP 协议的两端可以如同操作文件一样访问传输的数据，就像是读写在一个密闭的管道里“流动”的字节。

# 2、**DNS**

在 TCP/IP 协议中使用 IP 地址来标识计算机，数字形式的地址对于人类来说既难以记忆又难以输入。
于是`域名系统(Domain Name System)`出现了，用有意义的名字来作为 IP 地址的等价替代。
在 DNS 中，`域名(Domain Name)`又称为`主机名(Host)`，为了更好地标记不同国家或组织的主机，让名字更好记，所以被设计成了一个有层次的结构。
域名用.分隔成多个单词，级别从左到右逐级升高，最右边的被称为`顶级域名`。例如表示商业公司的com、表示教育机构的`edu`，表示国家的`cn`、`uk`等。
但想要使用 TCP/IP 协议来通信仍然要使用 IP 地址，所以需要把域名做一个转换，映射到它的真实 IP，这就是所谓的`域名解析`。

> 参考：[[1.5、域名&DNS#]]
# 3、**URI/URL**

> 参考：[[1.6、HTTP报文#2、URI]]

有了 TCP/IP 和 DNS，还不能任意访问网络上的资源，DNS 和 IP 地址只是标记了互联网上的主机，使用`URI (Uniform Resource Identifier)`，中文名称是`统一资源标识符`就能够唯一地标记互联网上资源。

URI另一个更常用的表现形式是`URL (Uniform Resource Locator)`， `统一资源定位符`，它实际上是 URI 的一个子集，还有URN。URI 主要有三个基本的部分构成：

1. `协议名`：即访问该资源应当使用的协议
2. `主机名`：即互联网上主机的标记，可以是域名或 IP 地址
3. `路径`：即资源在主机上的位置，使用/分隔多级目录

# 4、**HTTPS**

它的全称是`HTTP over SSL/TLS`，也就是运行在 SSL/TLS 协议上的 HTTP。

它是一个负责加密通信的安全协议，建立在 TCP/IP 之上，是个可靠的传输协议，可以被用作 HTTP 的下层。

HTTPS 相当于HTTP+SSL/TLS+TCP/IP。

SSL 的全称是`Secure Socket Layer`，由网景公司发明，当发展到 3.0 时被标准化，改名为 TLS，即`Transport Layer Security`，但由于历史的原因还是有很多人称之为 SSL/TLS，或者直接简称为 SSL。

SSL 使用了许多密码学最先进的研究成果，综合了对称加密、非对称加密、摘要算法、数字签名、数字证书等技术，能够在不安全的环境中为通信的双方创建出一个秘密的、安全的传输通道。

# 5、**代理**

`代理(Proxy)`是 HTTP 协议中请求方和应答方中间的一个环节，作为中转站，既可以转发客户端的请求，也可以转发服务器的应答。

代理有很多的种类，常见的有：

1. 匿名代理：完全“隐匿”了被代理的机器，外界看到的只是代理服务器；
2. 透明代理：顾名思义，它在传输过程中是“透明开放”的，外界既知道代理，也知道客户端；
3. 正向代理：靠近客户端，代表客户端向服务器发送请求；
4. 反向代理：靠近服务器端，代表服务器响应客户端的请求；

CDN实际上就是一种代理，它代替源站服务器响应客户端的请求，通常扮演着透明代理和反向代理的角色。

由于代理在传输过程中插入了一个“中间层”，所以可以在这个环节做很多事情，比如：

1. 负载均衡：把访问请求均匀分散到多台机器，实现访问集群化；
2. 内容缓存：暂存上下行的数据，减轻后端的压力；
3. 安全防护：隐匿 IP, 使用 WAF 等工具抵御网络攻击，保护被代理的机器；
4. 数据处理：提供压缩、加密等额外的功能。