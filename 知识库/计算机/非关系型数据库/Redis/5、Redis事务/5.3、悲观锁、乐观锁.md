> 标签： [[Redis]] [[Redis事务]] [[悲观锁]] [[乐观锁]] [[锁]]

### 5.3.1、悲观锁

悲观锁(Pessimistic Lock)，每次去拿数据的时候都认为别人会修改，所以每次在拿数据的时候都会上锁，这样别人想拿这个数据就会阻塞直到它拿到锁。传统的关系型数据库里边就用到了很多这种锁机制，比如行锁，表锁等，读锁，写锁等，都是在做操作之前先上锁。

![[Pasted image 20230408204556.png]]

### 5.3.2、乐观锁

乐观锁(Optimistic Lock)，每次去拿数据的时候都认为别人不会修改，所以不会上锁，但是在更新的时候会判断一下在此期间别人有没有去更新这个数据，可以使用版本号等机制。乐观锁适用于多读的应用类型，这样可以提高吞吐量。Redis 就是利用CAS机制实现事务的。

![[Pasted image 20230408204612.png]]